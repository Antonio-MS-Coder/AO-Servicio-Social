"use strict";(self.webpackChunkdoom_mvp=self.webpackChunkdoom_mvp||[]).push([[379],{1379:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(2555),o=s(5043),r=s(9981),i=s(4117),n=s(9252),c=s(1637),l=s(5865),d=s(2110),A=s(6494),x=s(6446),u=s(1045),m=s(3336),p=s(5721),h=s(5537),v=s(8587),j=s(8168),f=s(8387),b=s(8610),y=s(1347),g=s(4535),C=s(8206),M=s(2532),w=s(2372);function I(e){return(0,w.Ay)("MuiListItemAvatar",e)}(0,M.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var k=s(579);const S=["className"],B=(0,g.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,"flex-start"===s.alignItems&&t.alignItemsFlexStart]}})(e=>{let{ownerState:t}=e;return(0,j.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})}),J=o.forwardRef(function(e,t){const s=(0,C.b)({props:e,name:"MuiListItemAvatar"}),{className:a}=s,r=(0,v.A)(s,S),i=o.useContext(y.A),n=(0,j.A)({},s,{alignItems:i.alignItems}),c=(e=>{const{alignItems:t,classes:s}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,b.A)(a,I,s)})(n);return(0,k.jsx)(B,(0,j.A)({className:(0,f.A)(c.root,a),ownerState:n,ref:t},r))});var R=s(8734),L=s(3845),z=s(1906),N=s(8903);const E=(0,s(6734).A)((0,k.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment");var T=s(9509),W=s(8606),F=s(9320),G=s(5155),H=s(6667),P=s(8836),_=s(9066);const D=()=>{const{t:e}=(0,i.Bd)(),t=(0,r.Zp)(),{currentUser:s,userData:v}=(0,_.A)(),[j,f]=(0,o.useState)(!0),[b,y]=(0,o.useState)({activeJobs:0,applications:0,completedJobs:0,rating:0}),[g,C]=(0,o.useState)([]);(0,o.useEffect)(()=>{s&&M()},[s]);const M=async()=>{try{if("worker"===(null===v||void 0===v?void 0:v.role)){const e=(0,H.P)((0,H.rJ)(P.db,"applications"),(0,H._M)("workerId","==",s.uid),(0,H.My)("appliedAt","desc"),(0,H.AB)(5)),t=await(0,H.GG)(e);y({activeJobs:0,applications:t.size,completedJobs:0,rating:4.5});const o=[];t.forEach(e=>{o.push((0,a.A)({id:e.id},e.data()))}),C(o)}else{const e=(0,H.P)((0,H.rJ)(P.db,"jobs"),(0,H._M)("employerId","==",s.uid),(0,H.My)("createdAt","desc"),(0,H.AB)(5)),t=await(0,H.GG)(e);y({activeJobs:t.size,applications:0,completedJobs:0,rating:4.5});const o=[];t.forEach(e=>{o.push((0,a.A)({id:e.id},e.data()))}),C(o)}}catch(e){console.error("Error fetching dashboard data:",e)}finally{f(!1)}},w="worker"===(null===v||void 0===v?void 0:v.role)?[{title:"Aplicaciones Enviadas",value:b.applications,icon:(0,k.jsx)(E,{}),color:"#1976d2"},{title:"Trabajos Activos",value:b.activeJobs,icon:(0,k.jsx)(T.A,{}),color:"#2e7d32"},{title:"Trabajos Completados",value:b.completedJobs,icon:(0,k.jsx)(W.A,{}),color:"#9c27b0"},{title:"Calificaci\xf3n",value:"".concat(b.rating,"/5"),icon:(0,k.jsx)(F.A,{}),color:"#ed6c02"}]:[{title:"Vacantes Activas",value:b.activeJobs,icon:(0,k.jsx)(T.A,{}),color:"#1976d2"},{title:"Aplicaciones Recibidas",value:b.applications,icon:(0,k.jsx)(G.A,{}),color:"#2e7d32"},{title:"Contrataciones",value:b.completedJobs,icon:(0,k.jsx)(W.A,{}),color:"#9c27b0"},{title:"Calificaci\xf3n",value:"".concat(b.rating,"/5"),icon:(0,k.jsx)(F.A,{}),color:"#ed6c02"}];return j?(0,k.jsx)(n.A,{sx:{py:4,textAlign:"center"},children:(0,k.jsx)(c.A,{})}):(0,k.jsxs)(n.A,{maxWidth:"lg",sx:{py:4},children:[(0,k.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,k.jsxs)(l.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:["Bienvenido, ",null===v||void 0===v?void 0:v.email]}),(0,k.jsx)(N.Ay,{container:!0,spacing:3,sx:{mb:4},children:w.map((e,t)=>(0,k.jsx)(N.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(d.A,{children:(0,k.jsx)(A.A,{children:(0,k.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,k.jsx)(u.A,{sx:{bgcolor:e.color,mr:2},children:e.icon}),(0,k.jsxs)(x.A,{children:[(0,k.jsx)(l.A,{color:"text.secondary",variant:"body2",children:e.title}),(0,k.jsx)(l.A,{variant:"h5",children:e.value})]})]})})})},t))}),(0,k.jsxs)(N.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(N.Ay,{item:!0,xs:12,md:8,children:(0,k.jsxs)(m.A,{sx:{p:3},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Actividad Reciente"}),0===g.length?(0,k.jsx)(l.A,{color:"text.secondary",children:"No hay actividad reciente"}):(0,k.jsx)(p.A,{children:g.map(e=>(0,k.jsxs)(h.Ay,{children:[(0,k.jsx)(J,{children:(0,k.jsx)(u.A,{children:(0,k.jsx)(T.A,{})})}),(0,k.jsx)(R.A,{primary:e.title||e.jobTitle||"Sin t\xedtulo",secondary:(0,k.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[e.status&&(0,k.jsx)(L.A,{label:e.status,size:"small",color:"open"===e.status?"success":"default"}),(0,k.jsx)(l.A,{variant:"caption",color:"text.secondary",children:e.location})]})})]},e.id))})]})}),(0,k.jsxs)(N.Ay,{item:!0,xs:12,md:4,children:[(0,k.jsxs)(m.A,{sx:{p:3},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Acciones R\xe1pidas"}),(0,k.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:"worker"===(null===v||void 0===v?void 0:v.role)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(z.A,{fullWidth:!0,variant:"contained",onClick:()=>t("/jobs"),children:"Buscar Empleos"}),(0,k.jsx)(z.A,{fullWidth:!0,variant:"outlined",onClick:()=>t("/profile"),children:"Actualizar Perfil"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(z.A,{fullWidth:!0,variant:"contained",onClick:()=>t("/post-job"),children:"Publicar Empleo"}),(0,k.jsx)(z.A,{fullWidth:!0,variant:"outlined",onClick:()=>t("/workers"),children:"Buscar Trabajadores"})]})})]}),(0,k.jsxs)(m.A,{sx:{p:3,mt:3},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Tips para el Mundial 2026"}),(0,k.jsxs)(p.A,{dense:!0,children:[(0,k.jsx)(h.Ay,{children:(0,k.jsx)(R.A,{primary:"Completa tu perfil",secondary:"Los perfiles completos tienen 3x m\xe1s oportunidades"})}),(0,k.jsx)(h.Ay,{children:(0,k.jsx)(R.A,{primary:"Obt\xe9n certificaciones",secondary:"Los trabajadores certificados ganan 25% m\xe1s"})}),(0,k.jsx)(h.Ay,{children:(0,k.jsx)(R.A,{primary:"Mant\xe9n tu disponibilidad actualizada",secondary:"Aparece en las b\xfasquedas cuando est\xe9s disponible"})})]})]})]})]})]})}},2110:(e,t,s)=>{s.d(t,{A:()=>v});var a=s(8168),o=s(8587),r=s(5043),i=s(8387),n=s(8610),c=s(4535),l=s(8206),d=s(3336),A=s(2532),x=s(2372);function u(e){return(0,x.Ay)("MuiCard",e)}(0,A.A)("MuiCard",["root"]);var m=s(579);const p=["className","raised"],h=(0,c.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=r.forwardRef(function(e,t){const s=(0,l.b)({props:e,name:"MuiCard"}),{className:r,raised:c=!1}=s,d=(0,o.A)(s,p),A=(0,a.A)({},s,{raised:c}),x=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},u,t)})(A);return(0,m.jsx)(h,(0,a.A)({className:(0,i.A)(x.root,r),elevation:c?8:void 0,ref:t,ownerState:A},d))})},6494:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(8168),o=s(8587),r=s(5043),i=s(8387),n=s(8610),c=s(4535),l=s(8206),d=s(2532),A=s(2372);function x(e){return(0,A.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var u=s(579);const m=["className","component"],p=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),h=r.forwardRef(function(e,t){const s=(0,l.b)({props:e,name:"MuiCardContent"}),{className:r,component:c="div"}=s,d=(0,o.A)(s,m),A=(0,a.A)({},s,{component:c}),h=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},x,t)})(A);return(0,u.jsx)(p,(0,a.A)({as:c,className:(0,i.A)(h.root,r),ownerState:A,ref:t},d))})},8606:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(6734),o=s(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},9320:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(6734),o=s(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star")}}]);
//# sourceMappingURL=379.6f48ca7e.chunk.js.map