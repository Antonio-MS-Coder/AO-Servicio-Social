"use strict";(self.webpackChunkdoom_mvp=self.webpackChunkdoom_mvp||[]).push([[5975],{2110:(e,t,o)=>{o.d(t,{A:()=>v});var s=o(8168),a=o(8587),r=o(5043),i=o(8387),n=o(8610),l=o(4535),c=o(8206),d=o(3336),A=o(2532),x=o(2372);function u(e){return(0,x.Ay)("MuiCard",e)}(0,A.A)("MuiCard",["root"]);var m=o(579);const p=["className","raised"],h=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=r.forwardRef(function(e,t){const o=(0,c.b)({props:e,name:"MuiCard"}),{className:r,raised:l=!1}=o,d=(0,a.A)(o,p),A=(0,s.A)({},o,{raised:l}),x=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},u,t)})(A);return(0,m.jsx)(h,(0,s.A)({className:(0,i.A)(x.root,r),elevation:l?8:void 0,ref:t,ownerState:A},d))})},3851:(e,t,o)=>{o.d(t,{A:()=>v});var s=o(8587),a=o(8168),r=o(5043),i=o(8387),n=o(8610),l=o(1347),c=o(4535),d=o(8206),A=o(2532),x=o(2372);function u(e){return(0,x.Ay)("MuiListItemAvatar",e)}(0,A.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var m=o(579);const p=["className"],h=(0,c.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"flex-start"===o.alignItems&&t.alignItemsFlexStart]}})(e=>{let{ownerState:t}=e;return(0,a.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})}),v=r.forwardRef(function(e,t){const o=(0,d.b)({props:e,name:"MuiListItemAvatar"}),{className:c}=o,A=(0,s.A)(o,p),x=r.useContext(l.A),v=(0,a.A)({},o,{alignItems:x.alignItems}),j=(e=>{const{alignItems:t,classes:o}=e,s={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,n.A)(s,u,o)})(v);return(0,m.jsx)(h,(0,a.A)({className:(0,i.A)(j.root,c),ownerState:v,ref:t},A))})},5975:(e,t,o)=>{o.r(t),o.d(t,{default:()=>R});var s=o(9379),a=o(5043),r=o(9981),i=o(4117),n=o(9252),l=o(1637),c=o(5865),d=o(2110),A=o(6494),x=o(6446),u=o(1045),m=o(3336),p=o(5721),h=o(5537),v=o(3851),j=o(8734),f=o(3845),b=o(1906),y=o(8903),g=o(5337),C=o(8606),w=o(5155),M=o(9320),k=o(9509),I=o(6667),S=o(8836),B=o(9066),J=o(579);const R=()=>{const{t:e}=(0,i.Bd)(),t=(0,r.Zp)(),{currentUser:o,userData:R}=(0,B.A)(),[L,N]=(0,a.useState)(!0),[z,E]=(0,a.useState)({activeJobs:0,applications:0,completedJobs:0,rating:0}),[T,W]=(0,a.useState)([]);(0,a.useEffect)(()=>{"worker"!==(null===R||void 0===R?void 0:R.role)?"employer"!==(null===R||void 0===R?void 0:R.role)?o?F():N(!1):t("/employer/dashboard"):t("/worker-dashboard")},[o,R,t]);const F=async()=>{try{if(N(!0),"worker"===(null===R||void 0===R?void 0:R.role)){const e=(0,I.P)((0,I.rJ)(S.db,"applications"),(0,I._M)("workerId","==",o.uid),(0,I.AB)(5)),t=await(0,I.GG)(e).catch(()=>({size:0,forEach:()=>{}}));E({activeJobs:0,applications:t.size,completedJobs:0,rating:4.5});const a=[];t.forEach(e=>{a.push((0,s.A)({id:e.id},e.data()))}),W(a)}else{const e=(0,I.P)((0,I.rJ)(S.db,"jobs"),(0,I._M)("employerId","==",o.uid),(0,I.AB)(5)),t=await(0,I.GG)(e).catch(()=>({size:0,forEach:()=>{}}));E({activeJobs:t.size,applications:0,completedJobs:0,rating:4.5});const a=[];t.forEach(e=>{a.push((0,s.A)({id:e.id},e.data()))}),W(a)}}catch(e){console.error("Error fetching dashboard data:",e)}finally{N(!1)}},G="worker"===(null===R||void 0===R?void 0:R.role)?[{title:"Aplicaciones Enviadas",value:z.applications,icon:(0,J.jsx)(g.A,{}),color:"#1976d2"},{title:"Trabajos Activos",value:z.activeJobs,icon:(0,J.jsx)(k.A,{}),color:"#2e7d32"},{title:"Trabajos Completados",value:z.completedJobs,icon:(0,J.jsx)(C.A,{}),color:"#9c27b0"},{title:"Calificaci\xf3n",value:"".concat(z.rating,"/5"),icon:(0,J.jsx)(M.A,{}),color:"#ed6c02"}]:[{title:"Vacantes Activas",value:z.activeJobs,icon:(0,J.jsx)(k.A,{}),color:"#1976d2"},{title:"Aplicaciones Recibidas",value:z.applications,icon:(0,J.jsx)(w.A,{}),color:"#2e7d32"},{title:"Contrataciones",value:z.completedJobs,icon:(0,J.jsx)(C.A,{}),color:"#9c27b0"},{title:"Calificaci\xf3n",value:"".concat(z.rating,"/5"),icon:(0,J.jsx)(M.A,{}),color:"#ed6c02"}];return L?(0,J.jsx)(n.A,{sx:{py:4,textAlign:"center"},children:(0,J.jsx)(l.A,{})}):(0,J.jsxs)(n.A,{maxWidth:"lg",sx:{py:4},children:[(0,J.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,J.jsxs)(c.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:["Bienvenido, ",null===R||void 0===R?void 0:R.email]}),(0,J.jsx)(y.Ay,{container:!0,spacing:3,sx:{mb:4},children:G.map((e,t)=>(0,J.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,J.jsx)(d.A,{children:(0,J.jsx)(A.A,{children:(0,J.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,J.jsx)(u.A,{sx:{bgcolor:e.color,mr:2},children:e.icon}),(0,J.jsxs)(x.A,{children:[(0,J.jsx)(c.A,{color:"text.secondary",variant:"body2",children:e.title}),(0,J.jsx)(c.A,{variant:"h5",children:e.value})]})]})})})},t))}),(0,J.jsxs)(y.Ay,{container:!0,spacing:3,children:[(0,J.jsx)(y.Ay,{item:!0,xs:12,md:8,children:(0,J.jsxs)(m.A,{sx:{p:3},children:[(0,J.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Actividad Reciente"}),0===T.length?(0,J.jsx)(c.A,{color:"text.secondary",children:"No hay actividad reciente"}):(0,J.jsx)(p.A,{children:T.map(e=>(0,J.jsxs)(h.Ay,{children:[(0,J.jsx)(v.A,{children:(0,J.jsx)(u.A,{children:(0,J.jsx)(k.A,{})})}),(0,J.jsx)(j.A,{primary:e.title||e.jobTitle||"Sin t\xedtulo",secondary:(0,J.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[e.status&&(0,J.jsx)(f.A,{label:e.status,size:"small",color:"open"===e.status?"success":"default"}),(0,J.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e.location})]})})]},e.id))})]})}),(0,J.jsxs)(y.Ay,{item:!0,xs:12,md:4,children:[(0,J.jsxs)(m.A,{sx:{p:3},children:[(0,J.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Acciones R\xe1pidas"}),(0,J.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:"worker"===(null===R||void 0===R?void 0:R.role)?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(b.A,{fullWidth:!0,variant:"contained",onClick:()=>t("/jobs"),children:"Buscar Empleos"}),(0,J.jsx)(b.A,{fullWidth:!0,variant:"outlined",onClick:()=>t("/profile"),children:"Actualizar Perfil"})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(b.A,{fullWidth:!0,variant:"contained",onClick:()=>t("/post-job"),children:"Publicar Empleo"}),(0,J.jsx)(b.A,{fullWidth:!0,variant:"outlined",onClick:()=>t("/workers"),children:"Buscar Trabajadores"})]})})]}),(0,J.jsxs)(m.A,{sx:{p:3,mt:3},children:[(0,J.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Tips para el Mundial 2026"}),(0,J.jsxs)(p.A,{dense:!0,children:[(0,J.jsx)(h.Ay,{children:(0,J.jsx)(j.A,{primary:"Completa tu perfil",secondary:"Los perfiles completos tienen 3x m\xe1s oportunidades"})}),(0,J.jsx)(h.Ay,{children:(0,J.jsx)(j.A,{primary:"Obt\xe9n certificaciones",secondary:"Los trabajadores certificados ganan 25% m\xe1s"})}),(0,J.jsx)(h.Ay,{children:(0,J.jsx)(j.A,{primary:"Mant\xe9n tu disponibilidad actualizada",secondary:"Aparece en las b\xfasquedas cuando est\xe9s disponible"})})]})]})]})]})]})}},6494:(e,t,o)=>{o.d(t,{A:()=>h});var s=o(8168),a=o(8587),r=o(5043),i=o(8387),n=o(8610),l=o(4535),c=o(8206),d=o(2532),A=o(2372);function x(e){return(0,A.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var u=o(579);const m=["className","component"],p=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),h=r.forwardRef(function(e,t){const o=(0,c.b)({props:e,name:"MuiCardContent"}),{className:r,component:l="div"}=o,d=(0,a.A)(o,m),A=(0,s.A)({},o,{component:l}),h=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},x,t)})(A);return(0,u.jsx)(p,(0,s.A)({as:l,className:(0,i.A)(h.root,r),ownerState:A,ref:t},d))})},8606:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(6734),a=o(579);const r=(0,s.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},9320:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(6734),a=o(579);const r=(0,s.A)((0,a.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star")}}]);
//# sourceMappingURL=5975.36746aba.chunk.js.map