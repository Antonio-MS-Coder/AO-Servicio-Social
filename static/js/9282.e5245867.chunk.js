"use strict";(self.webpackChunkdoom_mvp=self.webpackChunkdoom_mvp||[]).push([[9282],{141:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},524:(e,t,a)=>{a.d(t,{A:()=>s});const s={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}},1387:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1665:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents")},1787:(e,t,a)=>{a.d(t,{A:()=>f});var s=a(8587),i=a(8168),r=a(5043),n=a(8387),o=a(8610),l=a(6803),c=a(5865),d=a(1053),A=a(5213),x=a(4535),h=a(2532),m=a(2372);function p(e){return(0,m.Ay)("MuiInputAdornment",e)}const j=(0,h.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v,u=a(8206),g=a(579);const y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,x.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t["position".concat((0,l.A)(a.position))],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})(e=>{let{theme:t,ownerState:a}=e;return(0,i.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===a.variant&&{["&.".concat(j.positionStart,"&:not(.").concat(j.hiddenLabel,")")]:{marginTop:16}},"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})}),f=r.forwardRef(function(e,t){const a=(0,u.b)({props:e,name:"MuiInputAdornment"}),{children:x,className:h,component:m="div",disablePointerEvents:j=!1,disableTypography:f=!1,position:C,variant:S}=a,w=(0,s.A)(a,y),E=(0,A.A)()||{};let H=S;S&&E.variant,E&&!H&&(H=E.variant);const z=(0,i.A)({},a,{hiddenLabel:E.hiddenLabel,size:E.size,disablePointerEvents:j,position:C,variant:H}),I=(e=>{const{classes:t,disablePointerEvents:a,hiddenLabel:s,position:i,size:r,variant:n}=e,c={root:["root",a&&"disablePointerEvents",i&&"position".concat((0,l.A)(i)),n,s&&"hiddenLabel",r&&"size".concat((0,l.A)(r))]};return(0,o.A)(c,p,t)})(z);return(0,g.jsx)(d.A.Provider,{value:null,children:(0,g.jsx)(b,(0,i.A)({as:m,ownerState:z,className:(0,n.A)(I.root,h),ref:t},w,{children:"string"!==typeof x||f?(0,g.jsxs)(r.Fragment,{children:["start"===C?v||(v=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,x]}):(0,g.jsx)(c.A,{color:"text.secondary",children:x})}))})})},2110:(e,t,a)=>{a.d(t,{A:()=>v});var s=a(8168),i=a(8587),r=a(5043),n=a(8387),o=a(8610),l=a(4535),c=a(8206),d=a(3336),A=a(2532),x=a(2372);function h(e){return(0,x.Ay)("MuiCard",e)}(0,A.A)("MuiCard",["root"]);var m=a(579);const p=["className","raised"],j=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=r.forwardRef(function(e,t){const a=(0,c.b)({props:e,name:"MuiCard"}),{className:r,raised:l=!1}=a,d=(0,i.A)(a,p),A=(0,s.A)({},a,{raised:l}),x=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},h,t)})(A);return(0,m.jsx)(j,(0,s.A)({className:(0,n.A)(x.root,r),elevation:l?8:void 0,ref:t,ownerState:A},d))})},2796:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},3560:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},5879:(e,t,a)=>{a.d(t,{A:()=>s});const s=a(5844).A},6494:(e,t,a)=>{a.d(t,{A:()=>j});var s=a(8168),i=a(8587),r=a(5043),n=a(8387),o=a(8610),l=a(4535),c=a(8206),d=a(2532),A=a(2372);function x(e){return(0,A.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var h=a(579);const m=["className","component"],p=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),j=r.forwardRef(function(e,t){const a=(0,c.b)({props:e,name:"MuiCardContent"}),{className:r,component:l="div"}=a,d=(0,i.A)(a,m),A=(0,s.A)({},a,{component:l}),j=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},x,t)})(A);return(0,h.jsx)(p,(0,s.A)({as:l,className:(0,n.A)(j.root,r),ownerState:A,ref:t},d))})},6910:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},8440:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified")},8957:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var s=a(9379),i=a(5043),r=a(9252),n=a(6446),o=a(5865),l=a(3336),c=a(8939),d=a(4056),A=a(1906),x=a(8903),h=a(2110),m=a(6494),p=a(1045),j=a(3845),v=a(6641),u=a(7392),g=a(35),y=a(6600),b=a(5316),f=a(7784),C=a(4605),S=a(4598),w=a(9347),E=a(1787),H=a(794),z=a(7254),I=a(141),W=a(6910),M=a(1387),k=a(3560),L=a(1665),P=a(9320),N=a(2796),T=a(8440),R=a(6667),V=a(8836),D=a(579);const F=()=>{const[e,t]=(0,i.useState)(0),[a,F]=(0,i.useState)([]),[G,J]=(0,i.useState)(null),[O,$]=(0,i.useState)(!0),[B,Z]=(0,i.useState)(!1),[_,U]=(0,i.useState)(!1),[q,K]=(0,i.useState)(!1),[Q,X]=(0,i.useState)({open:!1,message:"",severity:"success"}),[Y,ee]=(0,i.useState)({name:"",initials:"",role:"",company:"",testimonial:"",rating:5,verified:!0,order:0}),[te,ae]=(0,i.useState)({name:"",initials:"",beforeTitle:"",afterTitle:"",story:"",beforeSalary:0,afterSalary:0,jobsCompleted:0,rating:5,timeFrame:"En solo 6 meses",isActive:!0});(0,i.useEffect)(()=>{se()},[]);const se=async()=>{$(!0);try{const e=(0,R.P)((0,R.rJ)(V.db,"successStories"),(0,R.My)("order","asc")),t=(await(0,R.GG)(e)).docs.map(e=>(0,s.A)({id:e.id},e.data()));F(t);const a=(0,R.P)((0,R.rJ)(V.db,"weeklyStories"),(0,R._M)("isActive","==",!0)),i=await(0,R.GG)(a);i.empty||J((0,s.A)({id:i.docs[0].id},i.docs[0].data()))}catch(e){console.error("Error fetching content:",e),X({open:!0,message:"Error al cargar contenido",severity:"error"})}finally{$(!1)}},ie=()=>{ee({name:"",initials:"",role:"",company:"",testimonial:"",rating:5,verified:!0,order:0}),K(!1)},re=()=>{ae({name:"",initials:"",beforeTitle:"",afterTitle:"",story:"",beforeSalary:0,afterSalary:0,jobsCompleted:0,rating:5,timeFrame:"En solo 6 meses",isActive:!0}),K(!1)},ne=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,D.jsxs)(r.A,{maxWidth:"xl",sx:{mt:4,mb:4},children:[(0,D.jsxs)(n.A,{sx:{mb:4},children:[(0,D.jsxs)(o.A,{variant:"h4",fontWeight:"bold",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(W.A,{sx:{fontSize:40,color:"#007A33"}}),"Gesti\xf3n de Contenido"]}),(0,D.jsx)(o.A,{variant:"body1",color:"text.secondary",children:"Administra las historias de \xe9xito y la historia de la semana"})]}),(0,D.jsx)(l.A,{sx:{mb:3},children:(0,D.jsxs)(c.A,{value:e,onChange:(e,a)=>t(a),children:[(0,D.jsx)(d.A,{label:"Historias de \xc9xito",icon:(0,D.jsx)(L.A,{}),iconPosition:"start"}),(0,D.jsx)(d.A,{label:"Historia de la Semana",icon:(0,D.jsx)(N.A,{}),iconPosition:"start"})]})}),0===e&&(0,D.jsxs)(n.A,{children:[(0,D.jsxs)(n.A,{sx:{mb:3,display:"flex",justifyContent:"space-between"},children:[(0,D.jsx)(o.A,{variant:"h5",children:"Historias de \xc9xito"}),(0,D.jsx)(A.A,{variant:"contained",startIcon:(0,D.jsx)(I.A,{}),onClick:()=>{ie(),Z(!0)},sx:{bgcolor:"#007A33"},children:"Nueva Historia"})]}),(0,D.jsx)(x.Ay,{container:!0,spacing:3,children:a.map(e=>(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,D.jsx)(h.A,{children:(0,D.jsxs)(m.A,{children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[(0,D.jsx)(p.A,{sx:{bgcolor:"#007A33",width:56,height:56},children:e.initials}),(0,D.jsxs)(n.A,{flex:1,children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(o.A,{variant:"h6",children:e.name}),e.verified&&(0,D.jsx)(T.A,{sx:{fontSize:20,color:"#007A33"}})]}),(0,D.jsx)(o.A,{variant:"body2",color:"text.secondary",children:e.role}),(0,D.jsx)(j.A,{label:e.company,size:"small",color:"primary"})]})]}),(0,D.jsxs)(o.A,{variant:"body2",paragraph:!0,sx:{fontStyle:"italic"},children:['"',e.testimonial,'"']}),(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,D.jsx)(v.A,{value:e.rating,readOnly:!0,size:"small"}),(0,D.jsxs)(n.A,{children:[(0,D.jsx)(u.A,{size:"small",onClick:()=>(e=>{ee(e),K(!0),Z(!0)})(e),children:(0,D.jsx)(k.A,{})}),(0,D.jsx)(u.A,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de eliminar esta historia?"))try{await(0,R.kd)((0,R.H9)(V.db,"successStories",e)),X({open:!0,message:"Historia eliminada exitosamente",severity:"success"}),se()}catch(t){console.error("Error deleting story:",t),X({open:!0,message:"Error al eliminar historia",severity:"error"})}})(e.id),children:(0,D.jsx)(M.A,{})})]})]})]})})},e.id))}),(0,D.jsxs)(g.A,{open:B,onClose:()=>Z(!1),maxWidth:"md",fullWidth:!0,children:[(0,D.jsx)(y.A,{children:q?"Editar Historia de \xc9xito":"Nueva Historia de \xc9xito"}),(0,D.jsx)(b.A,{children:(0,D.jsxs)(x.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,md:8,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Nombre Completo",value:Y.name,onChange:e=>{const t=e.target.value;ee((0,s.A)((0,s.A)({},Y),{},{name:t,initials:ne(t)}))}})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Iniciales",value:Y.initials,onChange:e=>ee((0,s.A)((0,s.A)({},Y),{},{initials:e.target.value})),inputProps:{maxLength:2}})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Puesto/Rol",value:Y.role,onChange:e=>ee((0,s.A)((0,s.A)({},Y),{},{role:e.target.value}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Empresa",value:Y.company,onChange:e=>ee((0,s.A)((0,s.A)({},Y),{},{company:e.target.value}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(f.A,{fullWidth:!0,multiline:!0,rows:4,label:"Testimonio",value:Y.testimonial,onChange:e=>ee((0,s.A)((0,s.A)({},Y),{},{testimonial:e.target.value}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsxs)(n.A,{children:[(0,D.jsx)(o.A,{component:"legend",children:"Calificaci\xf3n"}),(0,D.jsx)(v.A,{value:Y.rating,onChange:(e,t)=>ee((0,s.A)((0,s.A)({},Y),{},{rating:t||5})),size:"large"})]})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(C.A,{control:(0,D.jsx)(S.A,{checked:Y.verified,onChange:e=>ee((0,s.A)((0,s.A)({},Y),{},{verified:e.target.checked}))}),label:"Verificado"})})]})}),(0,D.jsxs)(w.A,{children:[(0,D.jsx)(A.A,{onClick:()=>Z(!1),children:"Cancelar"}),(0,D.jsx)(A.A,{onClick:async()=>{try{q&&Y.id?(await(0,R.mZ)((0,R.H9)(V.db,"successStories",Y.id),(0,s.A)((0,s.A)({},Y),{},{updatedAt:R.Dc.now()})),X({open:!0,message:"Historia actualizada exitosamente",severity:"success"})):(await(0,R.gS)((0,R.rJ)(V.db,"successStories"),(0,s.A)((0,s.A)({},Y),{},{order:a.length,createdAt:R.Dc.now(),updatedAt:R.Dc.now()})),X({open:!0,message:"Historia creada exitosamente",severity:"success"})),Z(!1),ie(),se()}catch(e){console.error("Error saving story:",e),X({open:!0,message:"Error al guardar historia",severity:"error"})}},variant:"contained",sx:{bgcolor:"#007A33"},children:q?"Actualizar":"Crear"})]})]})]}),1===e&&(0,D.jsxs)(n.A,{children:[(0,D.jsxs)(n.A,{sx:{mb:3,display:"flex",justifyContent:"space-between"},children:[(0,D.jsx)(o.A,{variant:"h5",children:"Historia de la Semana"}),(0,D.jsx)(A.A,{variant:"contained",startIcon:G?(0,D.jsx)(k.A,{}):(0,D.jsx)(I.A,{}),onClick:()=>{G&&(ae(G),K(!0)),U(!0)},sx:{bgcolor:"#007A33"},children:G?"Editar Historia":"Nueva Historia"})]}),G?(0,D.jsx)(h.A,{sx:{bgcolor:"#FFF3E0"},children:(0,D.jsxs)(m.A,{children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[(0,D.jsx)(p.A,{sx:{bgcolor:"#007A33",width:80,height:80,fontSize:"2rem"},children:G.initials}),(0,D.jsxs)(n.A,{children:[(0,D.jsx)(j.A,{label:"HISTORIA DE LA SEMANA",color:"warning",size:"small",sx:{mb:1}}),(0,D.jsx)(o.A,{variant:"h5",fontWeight:"bold",children:G.name}),(0,D.jsxs)(o.A,{variant:"subtitle1",color:"text.secondary",children:["De ",G.beforeTitle," a ",G.afterTitle]})]})]}),(0,D.jsxs)(o.A,{variant:"body1",paragraph:!0,sx:{fontStyle:"italic"},children:['"',G.story,'"']}),(0,D.jsxs)(x.Ay,{container:!0,spacing:3,sx:{mt:2},children:[(0,D.jsxs)(x.Ay,{item:!0,xs:6,md:3,children:[(0,D.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"ANTES"}),(0,D.jsxs)(o.A,{variant:"h6",fontWeight:"bold",children:["$",G.beforeSalary.toLocaleString(),"/mes"]})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:6,md:3,children:[(0,D.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"AHORA"}),(0,D.jsxs)(o.A,{variant:"h6",fontWeight:"bold",color:"success.main",children:["$",G.afterSalary.toLocaleString(),"/mes"]})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:6,md:3,children:[(0,D.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"TRABAJOS"}),(0,D.jsx)(o.A,{variant:"h6",fontWeight:"bold",children:G.jobsCompleted})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:6,md:3,children:[(0,D.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"CALIFICACI\xd3N"}),(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,D.jsx)(o.A,{variant:"h6",fontWeight:"bold",children:G.rating}),(0,D.jsx)(P.A,{sx:{color:"#FFC107"}})]})]})]}),(0,D.jsx)(j.A,{label:G.timeFrame,sx:{mt:2,bgcolor:"#007A33",color:"white"}})]})}):(0,D.jsxs)(l.A,{sx:{p:4,textAlign:"center"},children:[(0,D.jsx)(o.A,{variant:"h6",color:"text.secondary",children:"No hay historia de la semana activa"}),(0,D.jsx)(A.A,{variant:"contained",startIcon:(0,D.jsx)(I.A,{}),onClick:()=>{re(),U(!0)},sx:{mt:2,bgcolor:"#007A33"},children:"Crear Historia de la Semana"})]}),(0,D.jsxs)(g.A,{open:_,onClose:()=>U(!1),maxWidth:"md",fullWidth:!0,children:[(0,D.jsx)(y.A,{children:q?"Editar Historia de la Semana":"Nueva Historia de la Semana"}),(0,D.jsx)(b.A,{children:(0,D.jsxs)(x.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,md:8,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Nombre Completo",value:te.name,onChange:e=>{const t=e.target.value;ae((0,s.A)((0,s.A)({},te),{},{name:t,initials:ne(t)}))}})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Iniciales",value:te.initials,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{initials:e.target.value})),inputProps:{maxLength:2}})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Puesto Anterior",value:te.beforeTitle,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{beforeTitle:e.target.value}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Puesto Actual",value:te.afterTitle,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{afterTitle:e.target.value}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(f.A,{fullWidth:!0,multiline:!0,rows:4,label:"Historia",value:te.story,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{story:e.target.value}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,D.jsx)(f.A,{fullWidth:!0,type:"number",label:"Salario Anterior",value:te.beforeSalary,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{beforeSalary:parseInt(e.target.value)})),InputProps:{startAdornment:(0,D.jsx)(E.A,{position:"start",children:"$"})}})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,D.jsx)(f.A,{fullWidth:!0,type:"number",label:"Salario Actual",value:te.afterSalary,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{afterSalary:parseInt(e.target.value)})),InputProps:{startAdornment:(0,D.jsx)(E.A,{position:"start",children:"$"})}})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,D.jsx)(f.A,{fullWidth:!0,type:"number",label:"Trabajos Completados",value:te.jobsCompleted,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{jobsCompleted:parseInt(e.target.value)}))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,D.jsx)(f.A,{fullWidth:!0,label:"Tiempo",value:te.timeFrame,onChange:e=>ae((0,s.A)((0,s.A)({},te),{},{timeFrame:e.target.value})),placeholder:"En solo 6 meses"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsxs)(n.A,{children:[(0,D.jsx)(o.A,{component:"legend",children:"Calificaci\xf3n"}),(0,D.jsx)(v.A,{value:te.rating,onChange:(e,t)=>ae((0,s.A)((0,s.A)({},te),{},{rating:t||5})),size:"large"})]})})]})}),(0,D.jsxs)(w.A,{children:[(0,D.jsx)(A.A,{onClick:()=>U(!1),children:"Cancelar"}),(0,D.jsx)(A.A,{onClick:async()=>{try{const e=(0,R.P)((0,R.rJ)(V.db,"weeklyStories")),t=await(0,R.GG)(e);for(const a of t.docs)await(0,R.mZ)(a.ref,{isActive:!1});G&&q?(await(0,R.mZ)((0,R.H9)(V.db,"weeklyStories",G.id),(0,s.A)((0,s.A)({},te),{},{isActive:!0,updatedAt:R.Dc.now()})),X({open:!0,message:"Historia de la semana actualizada",severity:"success"})):(await(0,R.gS)((0,R.rJ)(V.db,"weeklyStories"),(0,s.A)((0,s.A)({},te),{},{isActive:!0,weekStartDate:R.Dc.now(),createdAt:R.Dc.now(),updatedAt:R.Dc.now()})),X({open:!0,message:"Historia de la semana creada",severity:"success"})),U(!1),re(),se()}catch(e){console.error("Error saving weekly story:",e),X({open:!0,message:"Error al guardar historia de la semana",severity:"error"})}},variant:"contained",sx:{bgcolor:"#007A33"},children:q?"Actualizar":"Crear"})]})]})]}),(0,D.jsx)(H.A,{open:Q.open,autoHideDuration:6e3,onClose:()=>X((0,s.A)((0,s.A)({},Q),{},{open:!1})),children:(0,D.jsx)(z.A,{onClose:()=>X((0,s.A)((0,s.A)({},Q),{},{open:!1})),severity:Q.severity,children:Q.message})})]})}},9320:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(6734),i=a(579);const r=(0,s.A)((0,i.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star")}}]);
//# sourceMappingURL=9282.e5245867.chunk.js.map