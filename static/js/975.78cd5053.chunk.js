"use strict";(self.webpackChunkdoom_mvp=self.webpackChunkdoom_mvp||[]).push([[975],{2110:(e,t,s)=>{s.d(t,{A:()=>v});var a=s(8168),o=s(8587),r=s(5043),i=s(8387),n=s(8610),c=s(4535),l=s(8206),d=s(3336),A=s(2532),x=s(2372);function u(e){return(0,x.Ay)("MuiCard",e)}(0,A.A)("MuiCard",["root"]);var m=s(579);const h=["className","raised"],p=(0,c.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=r.forwardRef(function(e,t){const s=(0,l.b)({props:e,name:"MuiCard"}),{className:r,raised:c=!1}=s,d=(0,o.A)(s,h),A=(0,a.A)({},s,{raised:c}),x=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},u,t)})(A);return(0,m.jsx)(p,(0,a.A)({className:(0,i.A)(x.root,r),elevation:c?8:void 0,ref:t,ownerState:A},d))})},3851:(e,t,s)=>{s.d(t,{A:()=>v});var a=s(8587),o=s(8168),r=s(5043),i=s(8387),n=s(8610),c=s(1347),l=s(4535),d=s(8206),A=s(2532),x=s(2372);function u(e){return(0,x.Ay)("MuiListItemAvatar",e)}(0,A.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var m=s(579);const h=["className"],p=(0,l.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,"flex-start"===s.alignItems&&t.alignItemsFlexStart]}})(e=>{let{ownerState:t}=e;return(0,o.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})}),v=r.forwardRef(function(e,t){const s=(0,d.b)({props:e,name:"MuiListItemAvatar"}),{className:l}=s,A=(0,a.A)(s,h),x=r.useContext(c.A),v=(0,o.A)({},s,{alignItems:x.alignItems}),j=(e=>{const{alignItems:t,classes:s}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,n.A)(a,u,s)})(v);return(0,m.jsx)(p,(0,o.A)({className:(0,i.A)(j.root,l),ownerState:v,ref:t},A))})},5337:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(6734),o=s(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},5975:(e,t,s)=>{s.r(t),s.d(t,{default:()=>J});var a=s(2555),o=s(5043),r=s(9981),i=s(4117),n=s(9252),c=s(1637),l=s(5865),d=s(2110),A=s(6494),x=s(6446),u=s(1045),m=s(3336),h=s(5721),p=s(5537),v=s(3851),j=s(8734),f=s(3845),b=s(1906),y=s(8903),g=s(5337),C=s(8606),w=s(5155),M=s(9320),k=s(9509),I=s(6667),S=s(8836),z=s(9066),B=s(579);const J=()=>{const{t:e}=(0,i.Bd)(),t=(0,r.Zp)(),{currentUser:s,userData:J}=(0,z.A)(),[R,L]=(0,o.useState)(!0),[N,E]=(0,o.useState)({activeJobs:0,applications:0,completedJobs:0,rating:0}),[T,W]=(0,o.useState)([]);(0,o.useEffect)(()=>{"worker"!==(null===J||void 0===J?void 0:J.role)?s?F():L(!1):t("/worker-dashboard")},[s,J,t]);const F=async()=>{try{if(L(!0),"worker"===(null===J||void 0===J?void 0:J.role)){const e=(0,I.P)((0,I.rJ)(S.db,"applications"),(0,I._M)("workerId","==",s.uid),(0,I.AB)(5)),t=await(0,I.GG)(e).catch(()=>({size:0,forEach:()=>{}}));E({activeJobs:0,applications:t.size,completedJobs:0,rating:4.5});const o=[];t.forEach(e=>{o.push((0,a.A)({id:e.id},e.data()))}),W(o)}else{const e=(0,I.P)((0,I.rJ)(S.db,"jobs"),(0,I._M)("employerId","==",s.uid),(0,I.AB)(5)),t=await(0,I.GG)(e).catch(()=>({size:0,forEach:()=>{}}));E({activeJobs:t.size,applications:0,completedJobs:0,rating:4.5});const o=[];t.forEach(e=>{o.push((0,a.A)({id:e.id},e.data()))}),W(o)}}catch(e){console.error("Error fetching dashboard data:",e)}finally{L(!1)}},G="worker"===(null===J||void 0===J?void 0:J.role)?[{title:"Aplicaciones Enviadas",value:N.applications,icon:(0,B.jsx)(g.A,{}),color:"#1976d2"},{title:"Trabajos Activos",value:N.activeJobs,icon:(0,B.jsx)(k.A,{}),color:"#2e7d32"},{title:"Trabajos Completados",value:N.completedJobs,icon:(0,B.jsx)(C.A,{}),color:"#9c27b0"},{title:"Calificaci\xf3n",value:"".concat(N.rating,"/5"),icon:(0,B.jsx)(M.A,{}),color:"#ed6c02"}]:[{title:"Vacantes Activas",value:N.activeJobs,icon:(0,B.jsx)(k.A,{}),color:"#1976d2"},{title:"Aplicaciones Recibidas",value:N.applications,icon:(0,B.jsx)(w.A,{}),color:"#2e7d32"},{title:"Contrataciones",value:N.completedJobs,icon:(0,B.jsx)(C.A,{}),color:"#9c27b0"},{title:"Calificaci\xf3n",value:"".concat(N.rating,"/5"),icon:(0,B.jsx)(M.A,{}),color:"#ed6c02"}];return R?(0,B.jsx)(n.A,{sx:{py:4,textAlign:"center"},children:(0,B.jsx)(c.A,{})}):(0,B.jsxs)(n.A,{maxWidth:"lg",sx:{py:4},children:[(0,B.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,B.jsxs)(l.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:["Bienvenido, ",null===J||void 0===J?void 0:J.email]}),(0,B.jsx)(y.Ay,{container:!0,spacing:3,sx:{mb:4},children:G.map((e,t)=>(0,B.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,B.jsx)(d.A,{children:(0,B.jsx)(A.A,{children:(0,B.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,B.jsx)(u.A,{sx:{bgcolor:e.color,mr:2},children:e.icon}),(0,B.jsxs)(x.A,{children:[(0,B.jsx)(l.A,{color:"text.secondary",variant:"body2",children:e.title}),(0,B.jsx)(l.A,{variant:"h5",children:e.value})]})]})})})},t))}),(0,B.jsxs)(y.Ay,{container:!0,spacing:3,children:[(0,B.jsx)(y.Ay,{item:!0,xs:12,md:8,children:(0,B.jsxs)(m.A,{sx:{p:3},children:[(0,B.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Actividad Reciente"}),0===T.length?(0,B.jsx)(l.A,{color:"text.secondary",children:"No hay actividad reciente"}):(0,B.jsx)(h.A,{children:T.map(e=>(0,B.jsxs)(p.Ay,{children:[(0,B.jsx)(v.A,{children:(0,B.jsx)(u.A,{children:(0,B.jsx)(k.A,{})})}),(0,B.jsx)(j.A,{primary:e.title||e.jobTitle||"Sin t\xedtulo",secondary:(0,B.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[e.status&&(0,B.jsx)(f.A,{label:e.status,size:"small",color:"open"===e.status?"success":"default"}),(0,B.jsx)(l.A,{variant:"caption",color:"text.secondary",children:e.location})]})})]},e.id))})]})}),(0,B.jsxs)(y.Ay,{item:!0,xs:12,md:4,children:[(0,B.jsxs)(m.A,{sx:{p:3},children:[(0,B.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Acciones R\xe1pidas"}),(0,B.jsx)(x.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:"worker"===(null===J||void 0===J?void 0:J.role)?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(b.A,{fullWidth:!0,variant:"contained",onClick:()=>t("/jobs"),children:"Buscar Empleos"}),(0,B.jsx)(b.A,{fullWidth:!0,variant:"outlined",onClick:()=>t("/profile"),children:"Actualizar Perfil"})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(b.A,{fullWidth:!0,variant:"contained",onClick:()=>t("/post-job"),children:"Publicar Empleo"}),(0,B.jsx)(b.A,{fullWidth:!0,variant:"outlined",onClick:()=>t("/workers"),children:"Buscar Trabajadores"})]})})]}),(0,B.jsxs)(m.A,{sx:{p:3,mt:3},children:[(0,B.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Tips para el Mundial 2026"}),(0,B.jsxs)(h.A,{dense:!0,children:[(0,B.jsx)(p.Ay,{children:(0,B.jsx)(j.A,{primary:"Completa tu perfil",secondary:"Los perfiles completos tienen 3x m\xe1s oportunidades"})}),(0,B.jsx)(p.Ay,{children:(0,B.jsx)(j.A,{primary:"Obt\xe9n certificaciones",secondary:"Los trabajadores certificados ganan 25% m\xe1s"})}),(0,B.jsx)(p.Ay,{children:(0,B.jsx)(j.A,{primary:"Mant\xe9n tu disponibilidad actualizada",secondary:"Aparece en las b\xfasquedas cuando est\xe9s disponible"})})]})]})]})]})]})}},6494:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(8168),o=s(8587),r=s(5043),i=s(8387),n=s(8610),c=s(4535),l=s(8206),d=s(2532),A=s(2372);function x(e){return(0,A.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var u=s(579);const m=["className","component"],h=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),p=r.forwardRef(function(e,t){const s=(0,l.b)({props:e,name:"MuiCardContent"}),{className:r,component:c="div"}=s,d=(0,o.A)(s,m),A=(0,a.A)({},s,{component:c}),p=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},x,t)})(A);return(0,u.jsx)(h,(0,a.A)({as:c,className:(0,i.A)(p.root,r),ownerState:A,ref:t},d))})},8606:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(6734),o=s(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},9320:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(6734),o=s(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star")}}]);
//# sourceMappingURL=975.78cd5053.chunk.js.map